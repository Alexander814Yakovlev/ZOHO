"use strict";function findMaxHeight(e){var t=Array.prototype.slice.call(e).map(function(e){return e.offsetHeight});return Math.max.apply(null,t)}var carouselTimerObj={};function initCarousel(e){var t=e.querySelector(".carousel-content"),n=window.requestAnimationFrame&&window.cancelAnimationFrame,i=e.querySelectorAll(".carousel-content > *"),a=e.querySelectorAll(".carousel-indicators > *"),o=e.querySelectorAll(".carousel-images > img"),r=e.querySelector(".lButton"),c=e.querySelector(".rButton"),s={itemLength:i.length,indicatorLength:a.length,imageLength:o.length},u=0,l=Array.prototype.slice.call(i),d=e.querySelector(".carousel-content .active");function m(e){return n?requestAnimationFrame(e):e()}d&&(u=l.indexOf(d)),"complete"===document.readyState?m(function(){return t.style.height="".concat(findMaxHeight(i),"px")}):document.addEventListener("readystatechange",function(e){m(function(){return t.style.height="".concat(findMaxHeight(i),"px")})});var h=!!window.matchMedia&&window.matchMedia("(max-width: 478px)");function v(e,t){if(n){var i=(new Date).getTime();carouselTimerObj.id=requestAnimationFrame(function n(){(new Date).getTime()-i>=t&&(e(),i=(new Date).getTime()),carouselTimerObj.id=requestAnimationFrame(n)})}else carouselTimerObj.id=setInterval(e,t)}function g(e){A(),m(function(){return w(e)}),window.zbCarouselOptions.canPreventAutoCarousel||v(w,6e3)}function f(){var e=this.nextItem;u!==e&&g(e)}function L(e){for(var t=0;t<e.length;t++)e[t].addEventListener("click",f.bind({nextItem:t}))}function w(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(u+1)%s.itemLength,t=0;t<s.itemLength;t++){var n=0;t<e?n=-100*Math.abs(t-e):t>e&&(n=100*Math.abs(t-e)),i[t].style.left="".concat(n,"%"),t===e?(u=t,i[t].classList.add("active"),s.indicatorLength&&a[t].classList.add("active"),s.imageLength&&o[t].classList.add("active")):(i[t].classList.remove("active"),s.indicatorLength&&a[t].classList.remove("active"),s.imageLength&&o[t].classList.remove("active"))}}function y(t){var n=[],o=[],r=0,c=0,u=s.itemLength;t&&(u=(i=e.querySelectorAll(".carousel-content > *")).length,a=e.querySelectorAll(".carousel-indicators > *"));for(var l=0;l<u;l++)"none"!==window.getComputedStyle(i[l]).display&&(n[r++]=i[l]),"none"!==window.getComputedStyle(a[l]).display&&(o[c++]=a[l]);i=n,s.itemLength=i.length,a=o,s.indicatorLength=a.length,t&&(L(a),g(0))}(h&&h.matches||!1===h)&&y(),g(u),s.indicatorLength&&L(a),s.imageLength&&L(o),c&&c.addEventListener("click",function(){u===s.indicatorLength-1?g(0):g(u+1)}.bind()),r&&r.addEventListener("click",function(){g(0===u?s.indicatorLength-1:u-1)}.bind());var p=0,b=0;function A(){n?cancelAnimationFrame(carouselTimerObj.id):clearInterval(carouselTimerObj.id)}function E(){v(w,6e3)}function T(){A()}if(window.addEventListener("resize",function(e){clearTimeout(b),b=setTimeout(function(){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0);(p<=478&&n>478||p>478&&n<=478)&&(p=n,y(e)),m(function(){return t.style.height="".concat(findMaxHeight(i),"px")})},250)}),window.zbCarouselOptions.canPreventAutoCarousel||(t.addEventListener("mouseenter",T),t.addEventListener("mouseleave",E)),window.TouchEvent){var q=!1;try{var x=Object.defineProperty({},"passive",{get:function(){q=!0}});window.addEventListener("testPassive",null,x)}catch(e){}var O=0;t.addEventListener("touchstart",function(e){A(),e.changedTouches&&(O=e.changedTouches[0].clientX)},!!q&&{passive:!0}),t.addEventListener("touchend",function(e){if(v(w,6e3),e.changedTouches){var t=e.changedTouches[0].clientX,n=Math.abs(O-t),i=O<t?-1:1,a=1===i?u+1<s.itemLength:u-1>=0;n>=50&&a&&g(u+i)}})}return{clearAnimationTimer:A,removeCarouselEventListeners:function(){t.removeEventListener("mouseenter",T),t.removeEventListener("mouseleave",E)}}}window.zbCarouselOptions||(window.zbCarouselOptions={}),window.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".carousel-container").forEach(function(e){e&&initCarousel(e)})});